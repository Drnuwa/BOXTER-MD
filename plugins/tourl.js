(function(_0x135b64,_0x24fcf3){const _0x5e18f2=_0x30f4,_0x533025=_0x135b64();while(!![]){try{const _0x7d1d73=-parseInt(_0x5e18f2(0x131))/0x1+parseInt(_0x5e18f2(0x140))/0x2*(-parseInt(_0x5e18f2(0x150))/0x3)+-parseInt(_0x5e18f2(0x14b))/0x4+parseInt(_0x5e18f2(0x130))/0x5+parseInt(_0x5e18f2(0x13a))/0x6*(parseInt(_0x5e18f2(0x136))/0x7)+-parseInt(_0x5e18f2(0x151))/0x8+-parseInt(_0x5e18f2(0x141))/0x9*(-parseInt(_0x5e18f2(0x148))/0xa);if(_0x7d1d73===_0x24fcf3)break;else _0x533025['push'](_0x533025['shift']());}catch(_0x5020d5){_0x533025['push'](_0x533025['shift']());}}}(_0x5b17,0x787f8));function _0x5b17(){const _0x1cca37=['mp4','pushName','audioMessage','\x20Here\x20Is\x20Your\x20Media*\x0a*url:*\x20','MB.','17988670ZWmnrd','body','*「▰▰▰▰▰▰▰▰▱▱」*','1556108PIUgkX','audio','length','image','match','73902sbosJz','6346936SrBHSZ','from','url','mtype','*「▰▰▰▰▰▰▰▱▱▱」*','*「▰▰▰▰▱▱▱▱▱▱」*','video','split','reply','mp3','3409275rOhLsc','943954VnHYAT','*Hey\x20','tourl','now','videoMessage','7JHbhTQ','sendMessage','*「▰▰▰▰▰▱▱▱▱▱」*','slice','4234608NqrnBg','*「▰▰▰▰▰▰▰▰▰▱」*','quoted','includes','*「▰▰▰▱▱▱▱▱▱▱」*','error','46wZIHCq','9NwyAUK','relayMessage'];_0x5b17=function(){return _0x1cca37;};return _0x5b17();}import{UploadFileUgu,TelegraPh}from'../uploader.js';import{writeFile,unlink}from'fs/promises';const MAX_FILE_SIZE_MB=0x3c,tourl=async(_0x41deb1,_0x59dd82)=>{const _0x421914=_0x30f4,_0x3070e9=_0x41deb1[_0x421914(0x149)][_0x421914(0x14f)](/^[\\/!#.]/),_0x2ea269=_0x3070e9?_0x3070e9[0x0]:'/',_0x5e1057=_0x41deb1[_0x421914(0x149)]['startsWith'](_0x2ea269)?_0x41deb1[_0x421914(0x149)][_0x421914(0x139)](_0x2ea269[_0x421914(0x14d)])[_0x421914(0x12d)]('\x20')[0x0]['toLowerCase']():'',_0x269c86=[_0x421914(0x133),_0x421914(0x153)];if(_0x269c86[_0x421914(0x13d)](_0x5e1057)){if(!_0x41deb1['quoted']||!['imageMessage',_0x421914(0x135),_0x421914(0x145)]['includes'](_0x41deb1[_0x421914(0x13c)][_0x421914(0x154)]))return _0x41deb1['reply']('Send/Reply\x20with\x20an\x20image,\x20video,\x20or\x20audio\x20to\x20upload\x20'+(_0x2ea269+_0x5e1057));try{const _0x2548bd=[_0x421914(0x13e),_0x421914(0x12b),_0x421914(0x138),'*「▰▰▰▰▰▰▱▱▱▱」*',_0x421914(0x155),_0x421914(0x14a),_0x421914(0x13b),'*「▰▰▰▰▰▰▰▰▰▰」*'],_0x331a85=_0x2548bd[_0x421914(0x14d)];let _0x5c8512=0x0;const {key:_0x54e94a}=await _0x59dd82[_0x421914(0x137)](_0x41deb1[_0x421914(0x152)],{'text':_0x2548bd[_0x5c8512]},{'quoted':_0x41deb1}),_0x2bfde0=setInterval(()=>{const _0x1666f4=_0x421914;_0x5c8512=(_0x5c8512+0x1)%_0x331a85,_0x59dd82[_0x1666f4(0x142)](_0x41deb1[_0x1666f4(0x152)],{'protocolMessage':{'key':_0x54e94a,'type':0xe,'editedMessage':{'conversation':_0x2548bd[_0x5c8512]}}},{});},0x1f4),_0x4d3971=await _0x41deb1['quoted']['download']();if(!_0x4d3971)throw new Error('Failed\x20to\x20download\x20media.');const _0x3e59b6=_0x4d3971[_0x421914(0x14d)]/(0x400*0x400);if(_0x3e59b6>MAX_FILE_SIZE_MB)return clearInterval(_0x2bfde0),_0x41deb1[_0x421914(0x12e)]('File\x20size\x20exceeds\x20the\x20limit\x20of\x20'+MAX_FILE_SIZE_MB+_0x421914(0x147));const _0xb6ee24=getFileExtension(_0x41deb1['quoted']['mtype']);if(!_0xb6ee24)throw new Error('Unknown\x20media\x20type.');const _0x1f4bb5='./'+Date[_0x421914(0x134)]()+'.'+_0xb6ee24;await writeFile(_0x1f4bb5,_0x4d3971);let _0x2a495f;_0x41deb1['quoted']['mtype']==='imageMessage'?_0x2a495f=await TelegraPh(_0x1f4bb5):_0x2a495f=await UploadFileUgu(_0x1f4bb5);clearInterval(_0x2bfde0),await _0x59dd82[_0x421914(0x142)](_0x41deb1[_0x421914(0x152)],{'protocolMessage':{'key':_0x54e94a,'type':0xe,'editedMessage':{'conversation':'✅\x20Loading\x20complete.'}}},{});const _0x1996cf=getMediaType(_0x41deb1[_0x421914(0x13c)]['mtype']),_0x544725=_0x2a495f['url']||_0x2a495f,_0x134da3={[_0x1996cf]:{'url':_0x544725},'caption':_0x421914(0x132)+_0x41deb1[_0x421914(0x144)]+_0x421914(0x146)+_0x544725};await _0x59dd82[_0x421914(0x137)](_0x41deb1[_0x421914(0x152)],_0x134da3,{'quoted':_0x41deb1}),await unlink(_0x1f4bb5);}catch(_0x5bc3fb){console[_0x421914(0x13f)]('Error\x20processing\x20media:',_0x5bc3fb),_0x41deb1[_0x421914(0x12e)]('Error\x20processing\x20media.');}}},getFileExtension=_0x93ea8b=>{const _0x255a1a=_0x30f4;switch(_0x93ea8b){case'imageMessage':return'jpg';case _0x255a1a(0x135):return _0x255a1a(0x143);case _0x255a1a(0x145):return _0x255a1a(0x12f);default:return null;}},getMediaType=_0x32bfe5=>{const _0x1a92fa=_0x30f4;switch(_0x32bfe5){case'imageMessage':return _0x1a92fa(0x14e);case _0x1a92fa(0x135):return _0x1a92fa(0x12c);case _0x1a92fa(0x145):return _0x1a92fa(0x14c);default:return null;}};function _0x30f4(_0x577343,_0x5ddc01){const _0x5b17e2=_0x5b17();return _0x30f4=function(_0x30f4d4,_0x3b15de){_0x30f4d4=_0x30f4d4-0x12b;let _0x3ff057=_0x5b17e2[_0x30f4d4];return _0x3ff057;},_0x30f4(_0x577343,_0x5ddc01);}export default tourl;
